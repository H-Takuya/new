<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ÈäÄÊ≤≥Á≥ª„Ç∑„Éü„É•„É¨„Éº„Çø„ÉºÔºà„Éñ„É©„ÉÉ„ÇØ„Éõ„Éº„É´„ÅÇ„ÇäÔºâ</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
      color: white;
      font-family: sans-serif;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: radial-gradient(circle at center, #000000 0%, #0a0a0a 80%, #111111 100%);
      image-rendering: pixelated;
    }
    #timestamp {
      position: fixed;
      top: 10px;
      left: 10px;
      color: white;
      font-size: 16px;
      background: rgba(0, 0, 0, 0.6);
      padding: 6px 12px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div id="timestamp">Loading...</div>
  <canvas id="sim"></canvas>

  <script>
    const canvas = document.getElementById("sim");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;

    let planets = [];
    const colors = ["#a9a9a9", "#e0c16c", "#4fc3f7", "#ff7043", "#fbc02d", "#d1c4e9", "#80cbc4"];
    const names = ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus"];

    function generatePlanets() {
      planets = [];
      for (let i = 0; i < 7; i++) {
        const distance = 70 + i * 50;
        const angle = Math.random() * Math.PI * 2;
        const speed = 0.008 + (i * 0.0015);
        planets.push({
          name: names[i],
          angle,
          distance,
          speed,
          radius: 4 + i * 1.5,
          color: colors[i % colors.length],
          rotation: 0,
          rotationSpeed: 0.05 + Math.random() * 0.1
        });
      }
    }

    generatePlanets();

    function drawGlow(x, y, r, color) {
      const gradient = ctx.createRadialGradient(x, y, 0, x, y, r);
      gradient.addColorStop(0, color);
      gradient.addColorStop(1, "transparent");
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(x, y, r, 0, Math.PI * 2);
      ctx.fill();
    }

    const startDate = new Date("2025-01-01T00:00:00");
    let elapsedDays = 0;
    const timestampEl = document.getElementById("timestamp");

    function updateTime() {
      elapsedDays += 0.1;
      const newDate = new Date(startDate.getTime() + elapsedDays * 86400000);
      timestampEl.textContent = newDate.toDateString();
    }

    function generateMeteorName() {
      const num = Math.floor(100 + Math.random() * 900);
      return "METEOR-" + num;
    }

    let meteor = {
      x: -100,
      y: Math.random() * canvas.height,
      speed: 6,
      radius: 10,
      active: true,
      name: generateMeteorName()
    };

    setInterval(() => {
      meteor.x = -100;
      meteor.y = Math.random() * canvas.height;
      meteor.active = true;
      meteor.name = generateMeteorName();
    }, 10000);

    // üåå „Éñ„É©„ÉÉ„ÇØ„Éõ„Éº„É´
    let blackHole = {
      x: 0,
      y: 0,
      radius: 30,
      active: false,
      angle: 0
    };

    function spawnBlackHole() {
      blackHole.x = Math.random() * canvas.width;
      blackHole.y = Math.random() * canvas.height;
      blackHole.active = true;
      blackHole.angle = 0;
      setTimeout(() => {
        blackHole.active = false;
      }, 10000); // 10ÁßíÈñì„Å†„ÅëÂ≠òÂú®
    }

    setInterval(spawnBlackHole, 10000); // 30Áßí„Å´1ÂõûÂá∫Áèæ

    function update() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.3)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      drawGlow(centerX, centerY, 60, "rgba(255,255,150,0.3)");
      ctx.beginPath();
      ctx.arc(centerX, centerY, 12, 0, Math.PI * 2);
      ctx.fillStyle = "#ffffcc";
      ctx.fill();

      // ÊÉëÊòü„ÅÆÊèèÁîª„Å®Êõ¥Êñ∞
      for (let i = planets.length - 1; i >= 0; i--) {
        const planet = planets[i];
        planet.angle += planet.speed;
        planet.rotation += planet.rotationSpeed;
        let x = centerX + Math.cos(planet.angle) * planet.distance;
        let y = centerY + Math.sin(planet.angle) * planet.distance;

        // „Éñ„É©„ÉÉ„ÇØ„Éõ„Éº„É´Âê∏ÂºïÂá¶ÁêÜ
        if (blackHole.active) {
          const dx = blackHole.x - x;
          const dy = blackHole.y - y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 150) {
            // ÊÉëÊòü„ÇíÂºï„ÅçÂØÑ„Åõ„Çã
            x += dx * 0.02;
            y += dy * 0.02;
          }
          if (dist < blackHole.radius + planet.radius) {
            // Âê∏Âèé
            planets.splice(i, 1);
            continue;
          }
        }

        // ÈöïÁü≥„Å®„ÅÆË°ùÁ™ÅÂà§ÂÆö
        if (meteor.active) {
          const dx = meteor.x - x;
          const dy = meteor.y - y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < planet.radius + meteor.radius) {
            planets.splice(i, 1);
            continue;
          }
        }

        // ÊÉëÊòüÊèèÁîª
        ctx.beginPath();
        ctx.arc(centerX, centerY, planet.distance, 0, Math.PI * 2);
        ctx.strokeStyle = "rgba(255, 255, 255, 0.1)";
        ctx.stroke();

        drawGlow(x, y, planet.radius * 3, planet.color);

        ctx.save();
        ctx.translate(x, y);
        ctx.rotate(planet.rotation);
        ctx.beginPath();
        ctx.arc(planet.radius - 1, 0, 1.5, 0, Math.PI * 2);
        ctx.fillStyle = "#fff";
        ctx.fill();
        ctx.restore();

        ctx.beginPath();
        ctx.arc(x, y, planet.radius, 0, Math.PI * 2);
        ctx.fillStyle = planet.color;
        ctx.fill();

        ctx.fillStyle = "#ffffff";
        ctx.font = "12px sans-serif";
        ctx.fillText(planet.name, x + planet.radius + 4, y);
      }

      // ÈöïÁü≥„ÅÆÊèèÁîª
      if (meteor.active) {
        meteor.x += meteor.speed;

        ctx.beginPath();
        ctx.arc(meteor.x, meteor.y, meteor.radius, 0, Math.PI * 2);
        ctx.fillStyle = "orange";
        ctx.fill();
        drawGlow(meteor.x, meteor.y, 30, "rgba(255,165,0,0.5)");

        ctx.fillStyle = "white";
        ctx.font = "12px sans-serif";
        ctx.fillText(meteor.name, meteor.x + 12, meteor.y - 8);
      }

      // „Éñ„É©„ÉÉ„ÇØ„Éõ„Éº„É´ÊèèÁîª
      if (blackHole.active) {
        blackHole.angle += 0.05;
        ctx.save();
        ctx.translate(blackHole.x, blackHole.y);
        ctx.rotate(blackHole.angle);
        const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, blackHole.radius);
        gradient.addColorStop(0, "black");
        gradient.addColorStop(1, "rgba(0, 0, 0, 0)");
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.arc(0, 0, blackHole.radius, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      }

      updateTime();
    }

    function animate() {
      update();
      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>

