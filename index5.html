<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>éŠ€æ²³ç³»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆæœˆãƒ»ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã‚ã‚Šï¼‰</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
      color: white;
      font-family: sans-serif;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: radial-gradient(circle at center, #000000 0%, #0a0a0a 80%, #111111 100%);
      /* image-rendering: pixelated; */ /* æ»‘ã‚‰ã‹ãªæç”»ã®ãŸã‚ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ */
    }
    #timestamp {
      position: fixed;
      top: 10px;
      left: 10px;
      color: white;
      font-size: 16px;
      background: rgba(0, 0, 0, 0.6);
      padding: 6px 12px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div id="timestamp">Loading...</div>
  <canvas id="sim"></canvas>

  <script>
    const canvas = document.getElementById("sim");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;

    let planets = [];
    const colors = ["#a9a9a9", "#e0c16c", "#4fc3f7", "#ff7043", "#fbc02d", "#d1c4e9", "#80cbc4"];
    const names = ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus"];

    function generatePlanets() {
      planets = [];
      for (let i = 0; i < 7; i++) {
        const distance = 70 + i * 50;
        const angle = Math.random() * Math.PI * 2;
        const speed = 0.008 + (i * 0.0015);
        const planetData = {
          name: names[i],
          angle,
          distance,
          speed,
          radius: 4 + i * 1.5,
          color: colors[i % colors.length],
          rotation: 0,
          rotationSpeed: 0.05 + Math.random() * 0.1,
          moons: [] // è¡›æ˜Ÿã‚’æ ¼ç´ã™ã‚‹é…åˆ—ã‚’è¿½åŠ 
        };

        // ä¾‹: 3ç•ªç›®ã®æƒ‘æ˜Ÿ(Earth)ã«æœˆã‚’è¿½åŠ 
        if (i === 2) {
          planetData.moons.push({
            name: "Moon",
            distance: planetData.radius + 15, // æƒ‘æ˜Ÿã‹ã‚‰ã®è·é›¢
            angle: Math.random() * Math.PI * 2, // æƒ‘æ˜Ÿå‘¨ã‚Šã®åˆæœŸè§’åº¦
            speed: 0.05, // æƒ‘æ˜Ÿå‘¨ã‚Šã®å…¬è»¢é€Ÿåº¦
            radius: 2,
            color: "#cccccc"
          });
        }

        planets.push(planetData);
      }
    }

    generatePlanets();

    function drawGlow(x, y, r, color) {
      // å††ãŒå¤§ãã„å ´åˆã«ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒç²—ããªã‚‰ãªã„ã‚ˆã†ã«èª¿æ•´
      const glowRadius = Math.max(r, 5);
      const gradient = ctx.createRadialGradient(x, y, 0, x, y, glowRadius);
      // ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­å¿ƒã‚’æ˜ã‚‹ãã€å¤–å´ã‚’é€æ˜ã«
      gradient.addColorStop(0, color); // ä¸­å¿ƒã®è‰² (å°‘ã—é€æ˜åº¦ã‚’ä¸‹ã’ã¦ã‚‚è‰¯ã„ã‹ã‚‚)
      gradient.addColorStop(0.5, color.replace(')', ', 0.5)').replace('rgb', 'rgba')); // ä¸­é–“
      gradient.addColorStop(1, color.replace(')', ', 0)').replace('rgb', 'rgba')); // å¤–å´ (å®Œå…¨é€æ˜)

      ctx.fillStyle = gradient;
      ctx.beginPath();
      // å®Ÿéš›ã®æç”»ç¯„å›²ã¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³åŠå¾„ã‚ˆã‚Šå°‘ã—å¤§ããã¦ã‚‚è‰¯ã„
      ctx.arc(x, y, glowRadius * 1.5, 0, Math.PI * 2);
      ctx.fill();
    }


    const startDate = new Date("2025-01-01T00:00:00");
    let elapsedDays = 0;
    const timestampEl = document.getElementById("timestamp");

    function updateTime() {
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚‹ã‚ˆã†æ™‚é–“ã®é€²ã¿ã‚’å°‘ã—é…ãã™ã‚‹
      elapsedDays += 0.05;
      const newDate = new Date(startDate.getTime() + elapsedDays * 86400000);
      timestampEl.textContent = newDate.toDateString();
    }

    function generateMeteorName() {
      const num = Math.floor(100 + Math.random() * 900);
      return "METEOR-" + num;
    }

    let meteor = {
      x: -100,
      y: Math.random() * canvas.height,
      speed: 6 + Math.random() * 4, // é€Ÿåº¦ã«ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’è¿½åŠ 
      radius: 8 + Math.random() * 8, // ã‚µã‚¤ã‚ºã«ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’è¿½åŠ 
      active: true,
      name: generateMeteorName()
    };

    // éš•çŸ³ã®å†ç”Ÿæˆé–“éš”ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«
    function resetMeteor() {
        meteor.x = -100;
        meteor.y = Math.random() * canvas.height;
        meteor.speed = 6 + Math.random() * 4;
        meteor.radius = 8 + Math.random() * 8;
        meteor.active = true;
        meteor.name = generateMeteorName();
        // æ¬¡ã®å‡ºç¾ã¾ã§ã®æ™‚é–“ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ã™ã‚‹ (ä¾‹: 10ç§’ã‹ã‚‰20ç§’ã®é–“)
        const nextMeteorTime = 10000 + Math.random() * 10000;
        setTimeout(resetMeteor, nextMeteorTime);
    }
    setTimeout(resetMeteor, 5000); // æœ€åˆã®éš•çŸ³ã¯5ç§’å¾Œ


    // ğŸŒŒ ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«
    let blackHole = {
      x: 0,
      y: 0,
      radius: 25 + Math.random() * 10, // ã‚µã‚¤ã‚ºã‚‚å°‘ã—ãƒ©ãƒ³ãƒ€ãƒ ã«
      active: false,
      angle: 0,
      attractionRadius: 200 // å¼•åŠ›ã‚’åŠã¼ã™ç¯„å›²
    };

    function spawnBlackHole() {
      blackHole.x = Math.random() * canvas.width;
      blackHole.y = Math.random() * canvas.height;
      blackHole.radius = 25 + Math.random() * 10;
      blackHole.active = true;
      blackHole.angle = 0;
      const duration = 8000 + Math.random() * 5000; // å­˜åœ¨æ™‚é–“ã‚‚ãƒ©ãƒ³ãƒ€ãƒ ã«
      setTimeout(() => {
        blackHole.active = false;
      }, duration);
    }

    setInterval(spawnBlackHole, 25000 + Math.random() * 10000); // å‡ºç¾é–“éš”ã‚‚ãƒ©ãƒ³ãƒ€ãƒ ã«

    function update() {
      // èƒŒæ™¯ã‚’å°‘ã—ãšã¤æš—ãã—ã¦æ®‹åƒåŠ¹æœã‚’å‡ºã™
      ctx.fillStyle = "rgba(0, 0, 0, 0.2)"; // é€æ˜åº¦ã‚’èª¿æ•´ã—ã¦æ®‹åƒã®é•·ã•ã‚’å¤‰ãˆã‚‹
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // ä¸­å¿ƒæ˜Ÿ (Sun)
      drawGlow(centerX, centerY, 60, "rgba(255, 255, 150, 0.4)"); // Glowã‚’å°‘ã—å¼·ã
      ctx.beginPath();
      ctx.arc(centerX, centerY, 15, 0, Math.PI * 2); // å°‘ã—å¤§ãã
      ctx.fillStyle = "#ffffaa"; // å°‘ã—é»„è‰²ã£ã½ã
      ctx.fill();
      // ä¸­å¿ƒæ˜Ÿã®åå‰
      ctx.fillStyle = "#fff";
      ctx.font = "14px sans-serif";
      ctx.textAlign = "center";
      ctx.fillText("Sun", centerX, centerY + 30);
      ctx.textAlign = "start"; // ä»–ã®ãƒ†ã‚­ã‚¹ãƒˆã®ãŸã‚ã«æˆ»ã™


      // æƒ‘æ˜Ÿã¨æœˆã®æç”»ã¨æ›´æ–° (é€†é †ãƒ«ãƒ¼ãƒ—ã§å®‰å…¨ãªå‰Šé™¤)
      for (let i = planets.length - 1; i >= 0; i--) {
        const planet = planets[i];
        let planetDestroyed = false; // ã“ã®æƒ‘æ˜ŸãŒç ´å£Šã•ã‚ŒãŸã‹ã©ã†ã‹ã®ãƒ•ãƒ©ã‚°

        planet.angle += planet.speed;
        planet.rotation += planet.rotationSpeed;
        let planetX = centerX + Math.cos(planet.angle) * planet.distance;
        let planetY = centerY + Math.sin(planet.angle) * planet.distance;

        // --- ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã«ã‚ˆã‚‹æƒ‘æ˜Ÿã¸ã®å½±éŸ¿ ---
        if (blackHole.active) {
          const dx = blackHole.x - planetX;
          const dy = blackHole.y - planetY;
          const dist = Math.sqrt(dx * dx + dy * dy);

          // ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã®å¼•åŠ›ç¯„å›²å†…ãªã‚‰å¼•ãå¯„ã›ã‚‹
          if (dist < blackHole.attractionRadius) {
              const force = (blackHole.attractionRadius - dist) * 0.0005; // è·é›¢ãŒè¿‘ã„ã»ã©å¼·ã
              planetX += dx * force;
              planetY += dy * force;
              // è»Œé“è¨ˆç®—ã«å½±éŸ¿ã™ã‚‹ãŸã‚ã€ä¸­å¿ƒã‹ã‚‰ã®è·é›¢ã¨è§’åº¦ã‚’å†è¨ˆç®—ï¼ˆè¿‘ä¼¼ï¼‰
              const dCenterX = planetX - centerX;
              const dCenterY = planetY - centerY;
              planet.distance = Math.sqrt(dCenterX*dCenterX + dCenterY*dCenterY);
              planet.angle = Math.atan2(dCenterY, dCenterX);
          }
          // ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã«å¸åã•ã‚Œã‚‹åˆ¤å®š
          if (dist < blackHole.radius + planet.radius) {
            planets.splice(i, 1); // æƒ‘æ˜Ÿã‚’å‰Šé™¤
            planetDestroyed = true;
            continue; // ã“ã®æƒ‘æ˜Ÿã®å‡¦ç†ã‚’çµ‚äº†
          }
        }

        // --- éš•çŸ³ã«ã‚ˆã‚‹æƒ‘æ˜Ÿã¸ã®å½±éŸ¿ ---
        if (!planetDestroyed && meteor.active) {
          const dx = meteor.x - planetX;
          const dy = meteor.y - planetY;
          const dist = Math.sqrt(dx * dx + dy * dy);
          // è¡çªåˆ¤å®š
          if (dist < planet.radius + meteor.radius) {
            planets.splice(i, 1); // æƒ‘æ˜Ÿã‚’å‰Šé™¤
            meteor.active = false; // éš•çŸ³ã‚‚æ¶ˆæ»…ã•ã›ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
            planetDestroyed = true;
            continue; // ã“ã®æƒ‘æ˜Ÿã®å‡¦ç†ã‚’çµ‚äº†
          }
        }

        // --- æƒ‘æ˜Ÿã®æç”» ---
        if (!planetDestroyed) {
            // æƒ‘æ˜Ÿã®è»Œé“
            ctx.beginPath();
            ctx.arc(centerX, centerY, planet.distance, 0, Math.PI * 2);
            ctx.strokeStyle = "rgba(255, 255, 255, 0.08)"; // å°‘ã—è–„ã
            ctx.stroke();

            // æƒ‘æ˜Ÿã®Glow
            drawGlow(planetX, planetY, planet.radius * 3.5, planet.color.replace(')', ', 0.7)').replace('rgb', 'rgba')); // Glowã‚’å¼·åŒ–

            // æƒ‘æ˜Ÿæœ¬ä½“ (è‡ªè»¢ã®è¡¨ç¾ã¯ç°¡ç•¥åŒ–ã®ãŸã‚ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ)
            /*
            ctx.save();
            ctx.translate(planetX, planetY);
            ctx.rotate(planet.rotation);
            // ç°¡å˜ãªæ¨¡æ§˜ã‚„å½±ã‚’è¿½åŠ ã—ã¦ã‚‚è‰¯ã„
            ctx.beginPath();
            ctx.arc(0, 0, planet.radius, 0, Math.PI * 2);
            ctx.fillStyle = planet.color;
            ctx.fill();
            // å½±ã‚’ç°¡æ˜“çš„ã«æç”»
            ctx.fillStyle = "rgba(0,0,0,0.3)";
            ctx.beginPath();
            ctx.arc(0, 0, planet.radius, Math.PI/2, -Math.PI/2, true); // åŠå††ã®å½±
            ctx.fill();
            ctx.restore();
            */
           // ã‚·ãƒ³ãƒ—ãƒ«ãªæƒ‘æ˜Ÿæç”»
            ctx.beginPath();
            ctx.arc(planetX, planetY, planet.radius, 0, Math.PI * 2);
            ctx.fillStyle = planet.color;
            ctx.fill();


            // æƒ‘æ˜Ÿã®åå‰
            ctx.fillStyle = "#ffffff";
            ctx.font = "11px sans-serif"; // å°‘ã—å°ã•ã
            ctx.fillText(planet.name, planetX + planet.radius + 5, planetY + 4);

            // --- æœˆã®å‡¦ç† (æƒ‘æ˜ŸãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿) ---
            if (planet.moons && planet.moons.length > 0) {
                for (let j = planet.moons.length - 1; j >= 0; j--) {
                    const moon = planet.moons[j];
                    let moonDestroyed = false;

                    moon.angle += moon.speed;
                    let moonX = planetX + Math.cos(moon.angle) * moon.distance;
                    let moonY = planetY + Math.sin(moon.angle) * moon.distance;

                    // --- ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã«ã‚ˆã‚‹æœˆã¸ã®å½±éŸ¿ ---
                    if (blackHole.active) {
                        const dx_m = blackHole.x - moonX;
                        const dy_m = blackHole.y - moonY;
                        const dist_m = Math.sqrt(dx_m * dx_m + dy_m * dy_m);

                        if (dist_m < blackHole.attractionRadius * 0.5) { // æœˆã¸ã®å¼•åŠ›ç¯„å›²ã¯ç‹­ã‚ã«
                            const force_m = (blackHole.attractionRadius * 0.5 - dist_m) * 0.001;
                            moonX += dx_m * force_m;
                            moonY += dy_m * force_m;
                             // æœˆã®è»Œé“è¨ˆç®—ã«å½±éŸ¿ã™ã‚‹ãŸã‚ã€è¦ªæƒ‘æ˜Ÿã‹ã‚‰ã®è·é›¢ã¨è§’åº¦ã‚’å†è¨ˆç®—ï¼ˆè¿‘ä¼¼ï¼‰
                            const dPlanetX = moonX - planetX;
                            const dPlanetY = moonY - planetY;
                            moon.distance = Math.sqrt(dPlanetX*dPlanetX + dPlanetY*dPlanetY);
                            moon.angle = Math.atan2(dPlanetY, dPlanetX);
                        }
                        if (dist_m < blackHole.radius + moon.radius) {
                            planet.moons.splice(j, 1); // æœˆã‚’å‰Šé™¤
                            moonDestroyed = true;
                            continue; // ã“ã®æœˆã®å‡¦ç†ã‚’çµ‚äº†
                        }
                    }

                    // --- éš•çŸ³ã«ã‚ˆã‚‹æœˆã¸ã®å½±éŸ¿ ---
                    if (!moonDestroyed && meteor.active) {
                        const dx_m = meteor.x - moonX;
                        const dy_m = meteor.y - moonY;
                        const dist_m = Math.sqrt(dx_m * dx_m + dy_m * dy_m);
                        if (dist_m < moon.radius + meteor.radius) {
                            planet.moons.splice(j, 1); // æœˆã‚’å‰Šé™¤
                            // meteor.active = false; // éš•çŸ³ã‚‚æ¶ˆã™å ´åˆ
                            moonDestroyed = true;
                            continue; // ã“ã®æœˆã®å‡¦ç†ã‚’çµ‚äº†
                        }
                    }

                    // --- æœˆã®æç”» ---
                    if (!moonDestroyed) {
                        // æœˆã®è»Œé“ (æƒ‘æ˜Ÿä¸­å¿ƒ)
                        ctx.beginPath();
                        ctx.arc(planetX, planetY, moon.distance, 0, Math.PI * 2);
                        ctx.strokeStyle = "rgba(200, 200, 200, 0.1)"; // æœˆã®è»Œé“ã¯ã•ã‚‰ã«è–„ã
                        ctx.stroke();

                        // æœˆæœ¬ä½“
                        ctx.beginPath();
                        ctx.arc(moonX, moonY, moon.radius, 0, Math.PI * 2);
                        ctx.fillStyle = moon.color;
                        ctx.fill();
                         // æœˆã®åå‰ (å°ã•ã„ã®ã§çœç•¥ã—ã¦ã‚‚ã‚ˆã„)
                        // ctx.fillStyle = "#eee";
                        // ctx.font = "8px sans-serif";
                        // ctx.fillText(moon.name, moonX + moon.radius + 2, moonY + 2);
                    }
                }
            } // --- æœˆã®å‡¦ç†ã“ã“ã¾ã§ ---
        } // --- æƒ‘æ˜Ÿã®æç”»ã“ã“ã¾ã§ ---
      } // --- æƒ‘æ˜Ÿãƒ«ãƒ¼ãƒ—ã“ã“ã¾ã§ ---


      // --- éš•çŸ³ã®æç”»ã¨æ›´æ–° ---
      if (meteor.active) {
        meteor.x += meteor.speed;

        // ç”»é¢å¤–ã«å‡ºãŸã‚‰éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹ï¼ˆæ¬¡ã®ç”Ÿæˆã‚’å¾…ã¤ï¼‰
        if (meteor.x > canvas.width + meteor.radius * 2) {
            meteor.active = false;
            // resetMeteor() ã¯ setTimeout ã§å‘¼ã°ã‚Œã‚‹ã®ã§ã“ã“ã§ã¯ä½•ã‚‚ã—ãªã„
        } else {
            // éš•çŸ³ã®Glow
            drawGlow(meteor.x, meteor.y, meteor.radius * 3, "rgba(255, 165, 0, 0.6)");

            // éš•çŸ³æœ¬ä½“
            ctx.beginPath();
            ctx.arc(meteor.x, meteor.y, meteor.radius, 0, Math.PI * 2);
            // éš•çŸ³ã«ç°¡å˜ãªãƒ†ã‚¯ã‚¹ãƒãƒ£æ„Ÿã‚’ä¸ãˆã‚‹ (ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³)
            const meteorGradient = ctx.createRadialGradient(meteor.x - meteor.radius/3, meteor.y - meteor.radius/3, 1, meteor.x, meteor.y, meteor.radius);
            meteorGradient.addColorStop(0, "#ffcc66"); // æ˜ã‚‹ã„éƒ¨åˆ†
            meteorGradient.addColorStop(0.7, "#ff9933"); // æœ¬ä½“è‰²
            meteorGradient.addColorStop(1, "#cc6600"); // æš—ã„éƒ¨åˆ†
            ctx.fillStyle = meteorGradient;
            ctx.fill();
            // éš•çŸ³ã®ç¸å–ã‚Š
            ctx.strokeStyle = "rgba(255, 255, 255, 0.5)";
            ctx.lineWidth = 1;
            ctx.stroke();

            // éš•çŸ³ã®åå‰
            ctx.fillStyle = "white";
            ctx.font = "10px sans-serif";
            ctx.fillText(meteor.name, meteor.x + meteor.radius + 4, meteor.y - meteor.radius - 4);
        }
      }

      // --- ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã®æç”» ---
      if (blackHole.active) {
        blackHole.angle += 0.03; // å›è»¢é€Ÿåº¦
        ctx.save();
        ctx.translate(blackHole.x, blackHole.y);
        ctx.rotate(blackHole.angle);

        // é™ç€å††ç›¤ã®ã‚ˆã†ãªã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (ç°¡æ˜“ç‰ˆ)
        const accretionDiscRadius = blackHole.radius * 2.5;
        const accretionGradient = ctx.createRadialGradient(0, 0, blackHole.radius * 0.8, 0, 0, accretionDiscRadius);
        accretionGradient.addColorStop(0, "rgba(150, 50, 255, 0.1)"); // å†…å´ (ç´«ãŒã‹ã£ã¦ã„ã‚‹)
        accretionGradient.addColorStop(0.5, "rgba(255, 100, 50, 0.3)"); // ä¸­é–“ (ã‚ªãƒ¬ãƒ³ã‚¸ãŒã‹ã£ã¦ã„ã‚‹)
        accretionGradient.addColorStop(1, "rgba(50, 50, 150, 0)"); // å¤–å´ (é€æ˜)
        ctx.fillStyle = accretionGradient;
        ctx.beginPath();
        // ãƒ‰ãƒ¼ãƒŠãƒ„çŠ¶ã«ã™ã‚‹ãŸã‚ã«å†…å´ã‚’ãã‚ŠæŠœãã‚¤ãƒ¡ãƒ¼ã‚¸ã ãŒã€ã“ã“ã§ã¯é‡ã­ã¦æç”»
        ctx.arc(0, 0, accretionDiscRadius, 0, Math.PI * 2);
        ctx.fill();

        // ä¸­å¿ƒéƒ¨ã®æš—é—‡
        const coreGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, blackHole.radius);
        coreGradient.addColorStop(0, "black");
        coreGradient.addColorStop(0.8, "black");
        coreGradient.addColorStop(1, "rgba(0, 0, 0, 0.5)"); // å¢ƒç•Œã‚’å°‘ã—ã¼ã‹ã™
        ctx.fillStyle = coreGradient;
        ctx.beginPath();
        ctx.arc(0, 0, blackHole.radius, 0, Math.PI * 2);
        ctx.fill();

        // å‘¨å›²ã®æ­ªã¿è¡¨ç¾ (ç°¡æ˜“çš„ãªç·š)
        ctx.strokeStyle = "rgba(100, 100, 200, 0.3)";
        ctx.lineWidth = 1;
        for(let k=0; k<5; k++) {
            ctx.beginPath();
            ctx.arc(0, 0, blackHole.radius * (1.1 + k*0.2) + Math.sin(blackHole.angle*3 + k) * 3 , 0, Math.PI * 2);
            ctx.stroke();
        }

        ctx.restore();

        // ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«æƒ…å ±ãƒ†ã‚­ã‚¹ãƒˆ
        ctx.fillStyle = "#aaa";
        ctx.font = "10px sans-serif";
        ctx.fillText("Black Hole", blackHole.x + blackHole.radius + 5, blackHole.y - blackHole.radius - 5);

      }

      updateTime();
    }

    function animate() {
      update();
      requestAnimationFrame(animate);
    }

    // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºå¤‰æ›´æ™‚ã«ãƒªã‚µã‚¤ã‚º
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // ä¸­å¿ƒåº§æ¨™ã‚‚æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
        centerX = canvas.width / 2;
        centerY = canvas.height / 2;
        // å¿…è¦ã§ã‚ã‚Œã°æƒ‘æ˜Ÿã®ä½ç½®ãªã©ã‚‚å†è¨ˆç®— or å†ç”Ÿæˆ
        // generatePlanets(); // å†ç”Ÿæˆã™ã‚‹å ´åˆ
    });

    animate();
  </script>
</body>
</html>
